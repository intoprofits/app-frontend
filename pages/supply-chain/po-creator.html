<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,initial-scale=1.0">
		<link href="../../imgs/icon.ico" rel="shortcut icon">
		<title>Intoprofits</title>
		<link rel="stylesheet" href="../../style.css">
		<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@500;700;800&display=swap" rel="stylesheet">
		<script src="https://kit.fontawesome.com/9bdf3cc272.js" crossorigin="anonymous"></script>
	</head>
<body>

	<header>
		
		<div class="mobile-menu">
			<div class="logo-wrap">
				<a href="../../"><img src="../../imgs/logo-black.png" alt="" class="logo"></a>
				<i class="fas fa-bars main-mobile-menu" onclick="showMenu()"></i>
			</div>
			<div class="menu">
				<nav class="main-nav">
					<a href="#">Dashboard</a>
					<a href="../supply-chain/inventory-analysis.html" class="active">Supply Chain</a>
					<a href="../advertising/day-parting-tool.html">Advertising</a>
					<a href="../finances/budgeting.html">Finances</a>
					<a href="#">R&amp;D</a>
				</nav>
				<nav class="top-nav">
					<a href="#"><i class="fas fa-heart"></i>Refer a friend</a>
					<a href="#"><i class="fab fa-facebook"></i>Community</a>
					<a href="#"><i class="fas fa-question-circle"></i>Help</a>
					<a href="../profile/personal-details.html"><i class="fas fa-user"></i>My Profile</a>
					<a href="#"><i class="fas fa-lock-open"></i>Logout</a>
				</nav>
			</div>
		</div>
		<!-- /mobile menu -->
	
		<div class="desktop-menu">
			<div class="logo-wrap">
				<a href="../../"><img src="../../imgs/logo-black.png" alt="" class="logo"></a>
				<nav class="top-nav">
					<a href="#"><i class="fas fa-heart"></i>Refer a friend</a>
					<a href="#"><i class="fab fa-facebook"></i>Community</a>
					<a href="#"><i class="fas fa-question-circle"></i>Help</a>
					<a href="../profile/personal-details.html"><i class="fas fa-user"></i>My Profile</a>
					<a href="../../"><i class="fas fa-lock-open"></i>Logout</a>
				</nav>
			</div>
			<nav class="main-nav">
				<a href="#">Dashboard</a>
				<a href="../supply-chain/inventory-analysis.html" class="active">Supply Chain</a>
				<a href="../advertising/day-parting-tool.html">Advertising</a>
				<a href="../finances/budgeting.html">Finances</a>
				<a href="#">R&amp;D</a>
			</nav>
		</div>
		<!-- /desktop menu -->
		
	</header>
	<!-- /header  -->

	<main class="clear">

		<aside class="side-nav">
			<nav class="side-menu links">
				<a href="../supply-chain/inventory-analysis.html" title="Inventory Analysis"><i class="fas fa-chart-pie"></i>Inventory Analysis</a>
				<a href="../supply-chain/po-creator.html"  title="P.O Creator"class="active"><i class="fas fa-folder-plus"></i>P.O. Creator</a>
				<a href="../supply-chain/products.html" title="My Products"><i class="fas fa-box-open"></i>My Products</a>
				<a href="../supply-chain/contacts.html" title="My Contacts"><i class="fas fa-address-card"></i>My Contacts</a>
			</nav>
		</aside>
		<!-- /sidenav -->

		<div class="container clear">
			
			<section class="content"  data-title="Review P.O.">
				<h4>P.O. Creator</h4>

				<div class="input-wrap">
					<p>Select Language</p>
					<select name="language" id="">
						<option value="#">English</option>
						<option value="#">English & Chinese</option>
					</select>
				</div>
				
				<div class="input-wrap">
					<p>Select Supplier</p>
					<select name="supplier" id="supplier">
						<option value="Suplier One">Suplier One</option>
						<option value="Suplier Two">Suplier Two</option>
						<option value="Suplier Three">Suplier Three</option>
					</select>
				</div>

				<div class="input-wrap">
					<p>Select Shipping Address</p>
					<select name="" id="">
						<option value="Sample Address 1">Sample Address 1</option>
						<option value="Sample Address 2">Sample Address 2</option>
						<option value="Sample Address 3">Sample Address 3</option>
					</select>
				</div>

				<div class="input-wrap">
					<p>Shipping Method</p>
					<select name="" id="">
						<option value="#">Land</option>
						<option value="#">Sea</option>
						<option value="#">Air</option>
					</select>
				</div>

				<div class="input-wrap">
					<p>Product</p>
					<select name="product" id="product">
						<option value="Product 1">Product 1</option>
						<option value="Product 2">Product 2</option>
						<option value="Product 3">Product 3</option>
					</select>
				</div>
				
				<div class="input-wrap">
					<p>Order Quantity</p>
					<input type="number" value="1" min="1" name="quantity" id="quantity">
				</div>
				
				<div class="input-wrap">
					<p>Unit Cost</p>
					<input type="text" value="$0">
				</div>
				
				<div class="input-wrap">
					<p>Discount Request</p>
					<input type="text" value="$0">
				</div>

				<div class="input-wrap">
					<p>Export Term</p>
					<select name="exportTerm" id="exportTerm">
						<option value="FOB">FOB</option>
						<option value="EXW">EXW</option>
					</select>
				</div>
				
				<a class="button" onclick="createPO(this)">Review</a>
			</section>
			<!-- /content -->
			
			<section class="content last" data-title="Create Custom P.O.">
				<a onclick="learnMore()" class="learn" >Learn <i class="fas fa-play-circle"></i></a>
				<h4>Recent P.O.'s</h4>
				<div class="po-item-wrap" data-title="Edit P.O.">


					<!-- list of POs here -->
					<script>

						let POList = document.querySelector('.po-item-wrap'),
							POs = [{ product: 'Cup', quantity: '100', supplier: 'Batman LLC'}];
										
						const listPOs = (element, list) => {
							list.forEach(e => {
								element.innerHTML += 
								`<a href="#" onclick="createPO(this)" class="po-item" style="background-image: url(../../imgs/po-bg.jpg);">
									<div class="po-info">
										<p><b>Supplier:</b> ${e.supplier}</p>
										<p><b>Product:</b> ${e.product}</p>
										<p><b>Quantity:</b> ${e.quantity}</p>
									</div>
								</a>`;
							});
						}

						listPOs(POList, POs);
					
					</script>
					<!-- list of POs here -->

				</div>
				<a onclick="createPO(this)" class="button">Create Custom P.O.</a>
				<a onclick="savedTemp()" class="button">Saved Templates</a>
			</section>
			<!-- /content -->

		</div>
	</main>
	<!-- /main -->
	
	<footer>
		<p>Copyright Intorprofits 2020</p>

		<div id="learnMoreModal" class="modal learn-more">
			<div class="modal-container">
				<a onclick="closeModal()" class="closeModal"><i class="fas fa-times"></i></a>
				<div class="modal-contents">
					<h2 class="title">Video Tutorial</h2>
					<iframe src="https://www.youtube.com/embed/bMPOMT251mQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>
				</div>
			</div>
		</div>
		<!-- /learn more modal -->
		
		<div id="POModal" class="modal po-editor">
			<div class="modal-container">
				<a onclick="closeModal()" class="closeModal"><i class="fas fa-times"></i></a>
				<div class="modal-contents">
					<h3 class="title"></h3>
					<iframe width="1380" height="645" style="margin-bottom: 1rem;" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSsPTm9V9-qK5jh45YLuy1QVTSP3uqO-i1YYcAQBP4fJrvXFpYS0cDP4-ME2QwZoQ/pubhtml?gid=1164514586&amp;single=true&amp;widget=true&amp;headers=false"></iframe>
					<a onclick="addPO()" class="button">Save & Send</a>
					<a onclick="savePO()" class="button">Save as Template</a>
				</div>
			</div>
		</div>
		<!-- /P.O. modal -->

		<div id="savedPOs" class="modal saved-pos">
			<div class="modal-container">
				<a onclick="closeModal()" class="closeModal"><i class="fas fa-times"></i></a>
				<div class="modal-contents content full saved">
					<h4>Saved Templates</h4>
					<div class="po-item-wrap saved"  data-title="Create Custom P.O.">

						<!-- / list of saved POs -->
						<script>
							let savedPOList = document.querySelector('.po-item-wrap.saved'),
								savedPOs = [{ product: 'Cup', quantity: '100', supplier: 'Batman LLC'}];

							listPOs(savedPOList, savedPOs);
						</script>
						<!-- / list of saved POs -->

					</div>
				</div>
			</div>
		</div>
		<!-- /P.O. modal -->

		<div class="loading-bar"></div>
		<!-- /loading-bar -->
		

		<!-- custom script for this page-->
		<script src="../../app.js"></script>
		<script>

			const savedTemp = () => { document.querySelector('#savedPOs').classList.add('active') },

				createPO = (e) => {

					let title = e.parentNode.dataset.title;
					document.querySelector('#POModal .title').innerHTML = title;

					if (e.parentNode.parentNode.classList.contains("saved")) {
						document.querySelector('#POModal').classList.add('active');
						document.querySelector('#savedPOs').classList.remove('active');
					} else {
						document.querySelector('#POModal').classList.add('active');
					}
				},

				addPO = () => {
					let sup = document.getElementById('supplier'),
						prod = document.getElementById('product'),
						newPO = [{ 
							supplier: sup.options[sup.selectedIndex].value,
							product: prod.options[prod.selectedIndex].value,
							quantity: document.getElementById('quantity').value
						}],
						updatedPOs = POs.push = newPO;
							
					toggleLoading();
					document.querySelector('#POModal').classList.remove('active');
					
					//emulate saving by adding delay
					setTimeout(() =>{ 
						listPOs(POList, updatedPOs);
						toggleLoading();
					}, 1500);

				},

				savePO = () => {
					let sup = document.getElementById('supplier'),
						prod = document.getElementById('product'),
						newPO = [{ 
							supplier: sup.options[sup.selectedIndex].value,
							product: prod.options[prod.selectedIndex].value,
							quantity: document.getElementById('quantity').value
						}],
						updatedPOs = savedPOs.push = newPO;

					toggleLoading();
					
					//emulate saving by adding delay
					setTimeout(() =>{ 
						listPOs(savedPOList, updatedPOs);
						toggleLoading();
						document.querySelector('#POModal').classList.remove('active');
					}, 1500);
					
				}
	
		</script>
		<!-- / custom script -->
		
	</footer>
	<!-- /footer -->
</body>
</html>
